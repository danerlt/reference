<!doctype html>
<html lang="en" data-color-mode="dark">
<head>
<meta charset="utf-8">
<title>---
title: PostgreSQL
icon: icon-postgres
background: bg-[#3d6488]
tags:
    - DB
    - RDBMS
categories:
  - Database
date: 2021-01-11 14:19:24
intro: |
    The [PostgreSQL](https://www.postgresql.org/docs/current/) cheat sheet provides you with the common PostgreSQL commands and statements.
---



Getting started {.cols-3}
---------------

### Getting started
Switch and connect
```shell script
$ sudo -u postgres psql
```

List all databases
```shell script
postgres &#x26;  postgres cheatsheet &#x26;  Quick Reference</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta description="为开发人员分享快速参考备忘单。">
<meta keywords="Quick,Reference,cheatsheet,postgres">
<link rel="stylesheet" href="style/style.css">
</head>
<body><nav class="header-nav"><div class="max-container"><a href="index.html" class="logo"><svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" height="1em" width="1em"><path opacity=".5" d="m21.66 10.44-.98 4.18c-.84 3.61-2.5 5.07-5.62 4.77-.5-.04-1.04-.13-1.62-.27l-1.68-.4c-4.17-.99-5.46-3.05-4.48-7.23l.98-4.19c.2-.85.44-1.59.74-2.2 1.17-2.42 3.16-3.07 6.5-2.28l1.67.39c4.19.98 5.47 3.05 4.49 7.23Z" fill="white"></path><path d="M15.06 19.39c-.62.42-1.4.77-2.35 1.08l-1.58.52c-3.97 1.28-6.06.21-7.35-3.76L2.5 13.28c-1.28-3.97-.22-6.07 3.75-7.35l1.58-.52c.41-.13.8-.24 1.17-.31-.3.61-.54 1.35-.74 2.2l-.98 4.19c-.98 4.18.31 6.24 4.48 7.23l1.68.4c.58.14 1.12.23 1.62.27Zm2.43-8.88c-.06 0-.12-.01-.19-.02l-4.85-1.23a.75.75 0 0 1 .37-1.45l4.85 1.23a.748.748 0 0 1-.18 1.47Z" fill="#cbd5e1"></path><path d="M14.56 13.89c-.06 0-.12-.01-.19-.02l-2.91-.74a.75.75 0 0 1 .37-1.45l2.91.74c.4.1.64.51.54.91-.08.34-.38.56-.72.56Z" fill="#292D32"></path></svg><span class="title">Quick Reference</span></a><div class="menu"><a href="https://github.com/danerlt/reference/blob/main/postgres.md" class="" target="__blank"><svg viewBox="0 0 36 36" fill="currentColor" height="1em" width="1em"><path d="m33 6.4-3.7-3.7a1.71 1.71 0 0 0-2.36 0L23.65 6H6a2 2 0 0 0-2 2v22a2 2 0 0 0 2 2h22a2 2 0 0 0 2-2V11.76l3-3a1.67 1.67 0 0 0 0-2.36ZM18.83 20.13l-4.19.93 1-4.15 9.55-9.57 3.23 3.23ZM29.5 9.43 26.27 6.2l1.85-1.85 3.23 3.23Z"></path><path fill="none" d="M0 0h36v36H0z"></path></svg><span>编辑</span></a><a href="https://github.com/jaywcjlove/reference" class="" target="__blank"><svg viewBox="0 0 16 16" fill="currentColor" height="1em" width="1em"><path d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.012 8.012 0 0 0 16 8c0-4.42-3.58-8-8-8z"></path></svg></a></div></div></nav><div class="wrap"><div class="wrap-header h2wrap"><h2>Getting started {.cols-3}</h2><div class="wrap-body">
</div></div><div class="h2wrap-body"><div class="wrap"><div class="wrap-header h3wrap"><h3>Getting started</h3><div class="wrap-body">
<p>Switch and connect</p>
<pre class="language-shell"><code class="language-shell code-highlight"><span class="code-line line-number" line="1">$ <span class="token function">sudo</span> <span class="token parameter variable">-u</span> postgres psql
</span></code></pre>
<p>List all databases</p>
<pre class="language-shell"><code class="language-shell code-highlight"><span class="code-line line-number" line="1"><span class="token assign-left variable">postgres</span><span class="token operator">=</span><span class="token comment"># \l</span>
</span></code></pre>
<p>Connect to the database named postgres</p>
<pre class="language-shell"><code class="language-shell code-highlight"><span class="code-line line-number" line="1"><span class="token assign-left variable">postgres</span><span class="token operator">=</span><span class="token comment"># \c postgres</span>
</span></code></pre>
<p>Disconnect</p>
<pre class="language-shell"><code class="language-shell code-highlight"><span class="code-line line-number" line="1"><span class="token assign-left variable">postgres</span><span class="token operator">=</span><span class="token comment"># \q</span>
</span><span class="code-line line-number" line="2"><span class="token assign-left variable">postgres</span><span class="token operator">=</span><span class="token comment"># \!</span>
</span></code></pre>
</div></div></div><div class="wrap"><div class="wrap-header h3wrap"><h3>psql commands {.col-span-2}</h3><div class="wrap-body">
<table>
  <thead>
    <tr>
      <th>Option</th>
      <th>Example</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>[-d] &#x3C;database></code></td>
      <td>psql -d mydb</td>
      <td>Connecting to database</td>
    </tr>
    <tr>
      <td><code>-U</code></td>
      <td>psql -U john mydb</td>
      <td>Connecting as a specific user</td>
    </tr>
    <tr>
      <td><code>-h</code> <code>-p</code></td>
      <td>psql -h localhost -p 5432 mydb</td>
      <td>Connecting to a host/port</td>
    </tr>
    <tr>
      <td><code>-U</code> <code>-h</code> <code>-p</code> <code>-d</code></td>
      <td>psql -U admin -h 192.168.1.5 -p 2506 -d mydb</td>
      <td>Connect remote PostgreSQL</td>
    </tr>
    <tr>
      <td><code>-W</code></td>
      <td>psql -W mydb</td>
      <td>Force password</td>
    </tr>
    <tr>
      <td><code>-c</code></td>
      <td>psql -c '\c postgres' -c '\dt'</td>
      <td>Execute a SQL query or command</td>
    </tr>
    <tr>
      <td><code>-H</code></td>
      <td>psql -c "\l+" -H postgres > database.html</td>
      <td>Generate HTML report</td>
    </tr>
    <tr>
      <td><code>-l</code></td>
      <td>psql -l</td>
      <td>List all databases</td>
    </tr>
    <tr>
      <td><code>-f</code></td>
      <td>psql mydb -f file.sql</td>
      <td>Execute commands from a file</td>
    </tr>
    <tr>
      <td><code>-V</code></td>
      <td>psql -V</td>
      <td>Print the psql version</td>
    </tr>
    <tr>
      <td>{.show-header}</td>
      <td></td>
      <td></td>
    </tr>
  </tbody>
</table>
</div></div></div><div class="wrap"><div class="wrap-header h3wrap"><h3>Getting help</h3><div class="wrap-body">
<table>
  <thead>
    <tr>
      <th>-</th>
      <th>-</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>\h</code></td>
      <td>Help on syntax of SQL commands</td>
    </tr>
    <tr>
      <td><code>\h</code> DELETE</td>
      <td>DELETE SQL statement syntax</td>
    </tr>
    <tr>
      <td><code>\?</code></td>
      <td>List of PostgreSQL command</td>
    </tr>
  </tbody>
</table>
<p>Run in PostgreSQL console</p>
</div></div></div></div></div><div class="wrap"><div class="wrap-header h2wrap"><h2>PostgreSQL Working {.cols-3}</h2><div class="wrap-body">
</div></div><div class="h2wrap-body"><div class="wrap"><div class="wrap-header h3wrap"><h3>Recon</h3><div class="wrap-body">
<p>Show version</p>
<pre><code class="code-highlight"><span class="code-line line-number" line="1">SHOW SERVER_VERSION;
</span></code></pre>
<p>Show system status</p>
<pre class="language-sql"><code class="language-sql code-highlight"><span class="code-line line-number" line="1">\conninfo
</span></code></pre>
<p>Show environmental variables</p>
<pre class="language-sql"><code class="language-sql code-highlight"><span class="code-line line-number" line="1"><span class="token keyword">SHOW</span> <span class="token keyword">ALL</span><span class="token punctuation">;</span>
</span></code></pre>
<p>List users</p>
<pre class="language-sql"><code class="language-sql code-highlight"><span class="code-line line-number" line="1"><span class="token keyword">SELECT</span> rolname <span class="token keyword">FROM</span> pg_roles<span class="token punctuation">;</span>
</span></code></pre>
<p>Show current user</p>
<pre class="language-sql"><code class="language-sql code-highlight"><span class="code-line line-number" line="1"><span class="token keyword">SELECT</span> <span class="token keyword">current_user</span><span class="token punctuation">;</span>
</span></code></pre>
<p>Show current user's permissions</p>
<pre><code class="code-highlight"><span class="code-line line-number" line="1">\du
</span></code></pre>
<p>Show current database</p>
<pre class="language-sql"><code class="language-sql code-highlight"><span class="code-line line-number" line="1"><span class="token keyword">SELECT</span> current_database<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></code></pre>
<p>Show all tables in database</p>
<pre class="language-sql"><code class="language-sql code-highlight"><span class="code-line line-number" line="1">\dt
</span></code></pre>
<p>List functions</p>
<pre class="language-sql"><code class="language-sql code-highlight"><span class="code-line line-number" line="1">\df <span class="token operator">&#x3C;</span><span class="token keyword">schema</span><span class="token operator">></span>
</span></code></pre>
</div></div></div><div class="wrap"><div class="wrap-header h3wrap"><h3>Databases</h3><div class="wrap-body">
<p>List databases</p>
<pre class="language-sql"><code class="language-sql code-highlight"><span class="code-line line-number" line="1">\l
</span></code></pre>
<p>Connect to database</p>
<pre class="language-sql"><code class="language-sql code-highlight"><span class="code-line line-number" line="1">\c <span class="token operator">&#x3C;</span>database_name<span class="token operator">></span>
</span></code></pre>
<p>Show current database</p>
<pre class="language-sql"><code class="language-sql code-highlight"><span class="code-line line-number" line="1"><span class="token keyword">SELECT</span> current_database<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></code></pre>
<p><a href="http://www.postgresql.org/docs/current/static/sql-createdatabase.html">Create database</a></p>
<pre class="language-sql"><code class="language-sql code-highlight"><span class="code-line line-number" line="1"><span class="token keyword">CREATE</span> <span class="token keyword">DATABASE</span> <span class="token operator">&#x3C;</span>database_name<span class="token operator">></span> <span class="token keyword">WITH</span> OWNER <span class="token operator">&#x3C;</span>username<span class="token operator">></span><span class="token punctuation">;</span>
</span></code></pre>
<p><a href="http://www.postgresql.org/docs/current/static/sql-dropdatabase.html">Drop database</a></p>
<pre class="language-sql"><code class="language-sql code-highlight"><span class="code-line line-number" line="1"><span class="token keyword">DROP</span> <span class="token keyword">DATABASE</span> <span class="token keyword">IF</span> <span class="token keyword">EXISTS</span> <span class="token operator">&#x3C;</span>database_name<span class="token operator">></span><span class="token punctuation">;</span>
</span></code></pre>
<p><a href="http://www.postgresql.org/docs/current/static/sql-alterdatabase.html">Rename database</a></p>
<pre class="language-sql"><code class="language-sql code-highlight"><span class="code-line line-number" line="1"><span class="token keyword">ALTER</span> <span class="token keyword">DATABASE</span> <span class="token operator">&#x3C;</span>old_name<span class="token operator">></span> <span class="token keyword">RENAME</span> <span class="token keyword">TO</span> <span class="token operator">&#x3C;</span>new_name<span class="token operator">></span><span class="token punctuation">;</span>
</span></code></pre>
</div></div></div><div class="wrap"><div class="wrap-header h3wrap"><h3>Tables</h3><div class="wrap-body">
<p>List tables, in current db</p>
<pre class="language-sql"><code class="language-sql code-highlight"><span class="code-line line-number" line="1">\dt
</span><span class="code-line line-number" line="2">
</span><span class="code-line line-number" line="3"><span class="token keyword">SELECT</span> table_schema<span class="token punctuation">,</span>table_name <span class="token keyword">FROM</span> information_schema<span class="token punctuation">.</span><span class="token keyword">tables</span> <span class="token keyword">ORDER</span> <span class="token keyword">BY</span> table_schema<span class="token punctuation">,</span>table_name<span class="token punctuation">;</span>
</span></code></pre>
<p>List tables, globally</p>
<pre class="language-sql"><code class="language-sql code-highlight"><span class="code-line line-number" line="1">\dt <span class="token operator">*</span><span class="token punctuation">.</span><span class="token operator">*</span><span class="token punctuation">.</span>
</span><span class="code-line line-number" line="2">
</span><span class="code-line line-number" line="3"><span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> pg_catalog<span class="token punctuation">.</span>pg_tables
</span></code></pre>
<p>List table schema</p>
<pre class="language-sql"><code class="language-sql code-highlight"><span class="code-line line-number" line="1">\d <span class="token operator">&#x3C;</span>table_name<span class="token operator">></span>
</span><span class="code-line line-number" line="2">\d<span class="token operator">+</span> <span class="token operator">&#x3C;</span>table_name<span class="token operator">></span>
</span><span class="code-line line-number" line="3">
</span><span class="code-line line-number" line="4"><span class="token keyword">SELECT</span> column_name<span class="token punctuation">,</span> data_type<span class="token punctuation">,</span> character_maximum_length
</span><span class="code-line line-number" line="5"><span class="token keyword">FROM</span> INFORMATION_SCHEMA<span class="token punctuation">.</span><span class="token keyword">COLUMNS</span>
</span><span class="code-line line-number" line="6"><span class="token keyword">WHERE</span> table_name <span class="token operator">=</span> <span class="token string">'&#x3C;table_name>'</span><span class="token punctuation">;</span>
</span></code></pre>
<p><a href="http://www.postgresql.org/docs/current/static/sql-createtable.html">Create table</a></p>
<pre class="language-sql"><code class="language-sql code-highlight"><span class="code-line line-number" line="1"><span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> <span class="token operator">&#x3C;</span>table_name<span class="token operator">></span><span class="token punctuation">(</span>
</span><span class="code-line line-number" line="2">  <span class="token operator">&#x3C;</span>column_name<span class="token operator">></span> <span class="token operator">&#x3C;</span>column_type<span class="token operator">></span><span class="token punctuation">,</span>
</span><span class="code-line line-number" line="3">  <span class="token operator">&#x3C;</span>column_name<span class="token operator">></span> <span class="token operator">&#x3C;</span>column_type<span class="token operator">></span>
</span><span class="code-line line-number" line="4"><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></code></pre>
<p>Create table, with an auto-incrementing primary key</p>
<pre class="language-sql"><code class="language-sql code-highlight"><span class="code-line line-number" line="1"><span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> <span class="token operator">&#x3C;</span>table_name<span class="token operator">></span> <span class="token punctuation">(</span>
</span><span class="code-line line-number" line="2">  <span class="token operator">&#x3C;</span>column_name<span class="token operator">></span> <span class="token keyword">SERIAL</span> <span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span>
</span><span class="code-line line-number" line="3"><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></code></pre>
<p><a href="http://www.postgresql.org/docs/current/static/sql-droptable.html">Delete table</a></p>
<pre class="language-sql"><code class="language-sql code-highlight"><span class="code-line line-number" line="1"><span class="token keyword">DROP</span> <span class="token keyword">TABLE</span> <span class="token keyword">IF</span> <span class="token keyword">EXISTS</span> <span class="token operator">&#x3C;</span>table_name<span class="token operator">></span> <span class="token keyword">CASCADE</span><span class="token punctuation">;</span>
</span></code></pre>
</div></div></div><div class="wrap"><div class="wrap-header h3wrap"><h3>Permissions</h3><div class="wrap-body">
<p>Become the postgres user, if you have permission errors</p>
<pre class="language-shell"><code class="language-shell code-highlight"><span class="code-line line-number" line="1"><span class="token function">sudo</span> <span class="token function">su</span> - postgres
</span><span class="code-line line-number" line="2">psql
</span></code></pre>
<p><a href="http://www.postgresql.org/docs/current/static/sql-grant.html">Grant</a> all permissions on database</p>
<pre class="language-sql"><code class="language-sql code-highlight"><span class="code-line line-number" line="1"><span class="token keyword">GRANT</span> <span class="token keyword">ALL</span> <span class="token keyword">PRIVILEGES</span> <span class="token keyword">ON</span> <span class="token keyword">DATABASE</span> <span class="token operator">&#x3C;</span>db_name<span class="token operator">></span> <span class="token keyword">TO</span> <span class="token operator">&#x3C;</span>user_name<span class="token operator">></span><span class="token punctuation">;</span>
</span></code></pre>
<p>Grant connection permissions on database</p>
<pre class="language-sql"><code class="language-sql code-highlight"><span class="code-line line-number" line="1"><span class="token keyword">GRANT</span> <span class="token keyword">CONNECT</span> <span class="token keyword">ON</span> <span class="token keyword">DATABASE</span> <span class="token operator">&#x3C;</span>db_name<span class="token operator">></span> <span class="token keyword">TO</span> <span class="token operator">&#x3C;</span>user_name<span class="token operator">></span><span class="token punctuation">;</span>
</span></code></pre>
<p>Grant permissions on schema</p>
<pre class="language-sql"><code class="language-sql code-highlight"><span class="code-line line-number" line="1"><span class="token keyword">GRANT</span> <span class="token keyword">USAGE</span> <span class="token keyword">ON</span> <span class="token keyword">SCHEMA</span> <span class="token keyword">public</span> <span class="token keyword">TO</span> <span class="token operator">&#x3C;</span>user_name<span class="token operator">></span><span class="token punctuation">;</span>
</span></code></pre>
<p>Grant permissions to functions</p>
<pre class="language-sql"><code class="language-sql code-highlight"><span class="code-line line-number" line="1"><span class="token keyword">GRANT</span> <span class="token keyword">EXECUTE</span> <span class="token keyword">ON</span> <span class="token keyword">ALL</span> FUNCTIONS <span class="token operator">IN</span> <span class="token keyword">SCHEMA</span> <span class="token keyword">public</span> <span class="token keyword">TO</span> <span class="token operator">&#x3C;</span>user_name<span class="token operator">></span><span class="token punctuation">;</span>
</span></code></pre>
<p>Grant permissions to select, update, insert, delete, on a all tables</p>
<pre class="language-sql"><code class="language-sql code-highlight"><span class="code-line line-number" line="1"><span class="token keyword">GRANT</span> <span class="token keyword">SELECT</span><span class="token punctuation">,</span> <span class="token keyword">UPDATE</span><span class="token punctuation">,</span> <span class="token keyword">INSERT</span> <span class="token keyword">ON</span> <span class="token keyword">ALL</span> <span class="token keyword">TABLES</span> <span class="token operator">IN</span> <span class="token keyword">SCHEMA</span> <span class="token keyword">public</span> <span class="token keyword">TO</span> <span class="token operator">&#x3C;</span>user_name<span class="token operator">></span><span class="token punctuation">;</span>
</span></code></pre>
<p>Grant permissions, on a table</p>
<pre class="language-sql"><code class="language-sql code-highlight"><span class="code-line line-number" line="1"><span class="token keyword">GRANT</span> <span class="token keyword">SELECT</span><span class="token punctuation">,</span> <span class="token keyword">UPDATE</span><span class="token punctuation">,</span> <span class="token keyword">INSERT</span> <span class="token keyword">ON</span> <span class="token operator">&#x3C;</span>table_name<span class="token operator">></span> <span class="token keyword">TO</span> <span class="token operator">&#x3C;</span>user_name<span class="token operator">></span><span class="token punctuation">;</span>
</span></code></pre>
<p>Grant permissions, to select, on a table</p>
<pre class="language-sql"><code class="language-sql code-highlight"><span class="code-line line-number" line="1"><span class="token keyword">GRANT</span> <span class="token keyword">SELECT</span> <span class="token keyword">ON</span> <span class="token keyword">ALL</span> <span class="token keyword">TABLES</span> <span class="token operator">IN</span> <span class="token keyword">SCHEMA</span> <span class="token keyword">public</span> <span class="token keyword">TO</span> <span class="token operator">&#x3C;</span>user_name<span class="token operator">></span><span class="token punctuation">;</span>
</span></code></pre>
</div></div></div><div class="wrap"><div class="wrap-header h3wrap"><h3>Columns</h3><div class="wrap-body">
<p><a href="http://www.postgresql.org/docs/current/static/sql-altertable.html">Add column</a></p>
<pre class="language-sql"><code class="language-sql code-highlight"><span class="code-line line-number" line="1"><span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> <span class="token operator">&#x3C;</span>table_name<span class="token operator">></span> <span class="token keyword">IF</span> <span class="token keyword">EXISTS</span>
</span><span class="code-line line-number" line="2"><span class="token keyword">ADD</span> <span class="token operator">&#x3C;</span>column_name<span class="token operator">></span> <span class="token operator">&#x3C;</span>data_type<span class="token operator">></span> <span class="token punctuation">[</span><span class="token operator">&#x3C;</span>constraints<span class="token operator">></span><span class="token punctuation">]</span><span class="token punctuation">;</span>
</span></code></pre>
<p>Update column</p>
<pre class="language-sql"><code class="language-sql code-highlight"><span class="code-line line-number" line="1"><span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> <span class="token operator">&#x3C;</span>table_name<span class="token operator">></span> <span class="token keyword">IF</span> <span class="token keyword">EXISTS</span>
</span><span class="code-line line-number" line="2"><span class="token keyword">ALTER</span> <span class="token operator">&#x3C;</span>column_name<span class="token operator">></span> <span class="token keyword">TYPE</span> <span class="token operator">&#x3C;</span>data_type<span class="token operator">></span> <span class="token punctuation">[</span><span class="token operator">&#x3C;</span>constraints<span class="token operator">></span><span class="token punctuation">]</span><span class="token punctuation">;</span>
</span></code></pre>
<p>Delete column</p>
<pre class="language-sql"><code class="language-sql code-highlight"><span class="code-line line-number" line="1"><span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> <span class="token operator">&#x3C;</span>table_name<span class="token operator">></span> <span class="token keyword">IF</span> <span class="token keyword">EXISTS</span>
</span><span class="code-line line-number" line="2"><span class="token keyword">DROP</span> <span class="token operator">&#x3C;</span>column_name<span class="token operator">></span><span class="token punctuation">;</span>
</span></code></pre>
<p>Update column to be an auto-incrementing primary key</p>
<pre class="language-sql"><code class="language-sql code-highlight"><span class="code-line line-number" line="1"><span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> <span class="token operator">&#x3C;</span>table_name<span class="token operator">></span>
</span><span class="code-line line-number" line="2"><span class="token keyword">ADD</span> <span class="token keyword">COLUMN</span> <span class="token operator">&#x3C;</span>column_name<span class="token operator">></span> <span class="token keyword">SERIAL</span> <span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span><span class="token punctuation">;</span>
</span></code></pre>
<p>Insert into a table, with an auto-incrementing primary key</p>
<pre class="language-sql"><code class="language-sql code-highlight"><span class="code-line line-number" line="1"><span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> <span class="token operator">&#x3C;</span>table_name<span class="token operator">></span>
</span><span class="code-line line-number" line="2"><span class="token keyword">VALUES</span> <span class="token punctuation">(</span><span class="token keyword">DEFAULT</span><span class="token punctuation">,</span> <span class="token operator">&#x3C;</span>value1<span class="token operator">></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="3">
</span><span class="code-line line-number" line="4">
</span><span class="code-line line-number" line="5"><span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> <span class="token operator">&#x3C;</span>table_name<span class="token operator">></span> <span class="token punctuation">(</span><span class="token operator">&#x3C;</span>column1_name<span class="token operator">></span><span class="token punctuation">,</span><span class="token operator">&#x3C;</span>column2_name<span class="token operator">></span><span class="token punctuation">)</span>
</span><span class="code-line line-number" line="6"><span class="token keyword">VALUES</span> <span class="token punctuation">(</span> <span class="token operator">&#x3C;</span>value1<span class="token operator">></span><span class="token punctuation">,</span><span class="token operator">&#x3C;</span>value2<span class="token operator">></span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></code></pre>
</div></div></div><div class="wrap"><div class="wrap-header h3wrap"><h3>Data</h3><div class="wrap-body">
<p>[Select](<a href="http://www.postgresql.org/docs/current/static/sql-select.html%5D">http://www.postgresql.org/docs/current/static/sql-select.html]</a> all data</p>
<pre class="language-sql"><code class="language-sql code-highlight"><span class="code-line line-number" line="1"><span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> <span class="token operator">&#x3C;</span>table_name<span class="token operator">></span><span class="token punctuation">;</span>
</span></code></pre>
<p>Read one row of data</p>
<pre class="language-sql"><code class="language-sql code-highlight"><span class="code-line line-number" line="1"><span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> <span class="token operator">&#x3C;</span>table_name<span class="token operator">></span> <span class="token keyword">LIMIT</span> <span class="token number">1</span><span class="token punctuation">;</span>
</span></code></pre>
<p>Search for data</p>
<pre class="language-sql"><code class="language-sql code-highlight"><span class="code-line line-number" line="1"><span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> <span class="token operator">&#x3C;</span>table_name<span class="token operator">></span> <span class="token keyword">WHERE</span> <span class="token operator">&#x3C;</span>column_name<span class="token operator">></span> <span class="token operator">=</span> <span class="token operator">&#x3C;</span><span class="token keyword">value</span><span class="token operator">></span><span class="token punctuation">;</span>
</span></code></pre>
<p><a href="http://www.postgresql.org/docs/current/static/sql-insert.html">Insert</a> data</p>
<pre class="language-sql"><code class="language-sql code-highlight"><span class="code-line line-number" line="1"><span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> <span class="token operator">&#x3C;</span>table_name<span class="token operator">></span> <span class="token keyword">VALUES</span><span class="token punctuation">(</span> <span class="token operator">&#x3C;</span>value_1<span class="token operator">></span><span class="token punctuation">,</span> <span class="token operator">&#x3C;</span>value_2<span class="token operator">></span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></code></pre>
<p><a href="http://www.postgresql.org/docs/current/static/sql-update.html">Update</a> data</p>
<pre class="language-sql"><code class="language-sql code-highlight"><span class="code-line line-number" line="1"><span class="token keyword">UPDATE</span> <span class="token operator">&#x3C;</span>table_name<span class="token operator">></span>
</span><span class="code-line line-number" line="2"><span class="token keyword">SET</span> <span class="token operator">&#x3C;</span>column_1<span class="token operator">></span> <span class="token operator">=</span> <span class="token operator">&#x3C;</span>value_1<span class="token operator">></span><span class="token punctuation">,</span> <span class="token operator">&#x3C;</span>column_2<span class="token operator">></span> <span class="token operator">=</span> <span class="token operator">&#x3C;</span>value_2<span class="token operator">></span>
</span><span class="code-line line-number" line="3"><span class="token keyword">WHERE</span> <span class="token operator">&#x3C;</span>column_1<span class="token operator">></span> <span class="token operator">=</span> <span class="token operator">&#x3C;</span><span class="token keyword">value</span><span class="token operator">></span><span class="token punctuation">;</span>
</span></code></pre>
<p><a href="http://www.postgresql.org/docs/current/static/sql-delete.html">Delete</a> all data</p>
<pre class="language-sql"><code class="language-sql code-highlight"><span class="code-line line-number" line="1"><span class="token keyword">DELETE</span> <span class="token keyword">FROM</span> <span class="token operator">&#x3C;</span>table_name<span class="token operator">></span><span class="token punctuation">;</span>
</span></code></pre>
<p>Delete specific data</p>
<pre class="language-sql"><code class="language-sql code-highlight"><span class="code-line line-number" line="1"><span class="token keyword">DELETE</span> <span class="token keyword">FROM</span> <span class="token operator">&#x3C;</span>table_name<span class="token operator">></span>
</span><span class="code-line line-number" line="2"><span class="token keyword">WHERE</span> <span class="token operator">&#x3C;</span>column_name<span class="token operator">></span> <span class="token operator">=</span> <span class="token operator">&#x3C;</span><span class="token keyword">value</span><span class="token operator">></span><span class="token punctuation">;</span>
</span></code></pre>
</div></div></div><div class="wrap"><div class="wrap-header h3wrap"><h3>Users</h3><div class="wrap-body">
<p>List roles</p>
<pre class="language-sql"><code class="language-sql code-highlight"><span class="code-line line-number" line="1"><span class="token keyword">SELECT</span> rolname <span class="token keyword">FROM</span> pg_roles<span class="token punctuation">;</span>
</span></code></pre>
<p><a href="http://www.postgresql.org/docs/current/static/sql-createuser.html">Create user</a></p>
<pre class="language-sql"><code class="language-sql code-highlight"><span class="code-line line-number" line="1"><span class="token keyword">CREATE</span> <span class="token keyword">USER</span> <span class="token operator">&#x3C;</span>user_name<span class="token operator">></span> <span class="token keyword">WITH</span> PASSWORD <span class="token string">'&#x3C;password>'</span><span class="token punctuation">;</span>
</span></code></pre>
<p><a href="http://www.postgresql.org/docs/current/static/sql-dropuser.html">Drop user</a></p>
<pre class="language-sql"><code class="language-sql code-highlight"><span class="code-line line-number" line="1"><span class="token keyword">DROP</span> <span class="token keyword">USER</span> <span class="token keyword">IF</span> <span class="token keyword">EXISTS</span> <span class="token operator">&#x3C;</span>user_name<span class="token operator">></span><span class="token punctuation">;</span>
</span></code></pre>
<p><a href="http://www.postgresql.org/docs/current/static/sql-alterrole.html">Alter</a> user password</p>
<pre class="language-sql"><code class="language-sql code-highlight"><span class="code-line line-number" line="1"><span class="token keyword">ALTER</span> ROLE <span class="token operator">&#x3C;</span>user_name<span class="token operator">></span> <span class="token keyword">WITH</span> PASSWORD <span class="token string">'&#x3C;password>'</span><span class="token punctuation">;</span>
</span></code></pre>
</div></div></div><div class="wrap"><div class="wrap-header h3wrap"><h3>Schema</h3><div class="wrap-body">
<p>List schemas</p>
<pre class="language-sql"><code class="language-sql code-highlight"><span class="code-line line-number" line="1">\dn
</span><span class="code-line line-number" line="2">
</span><span class="code-line line-number" line="3"><span class="token keyword">SELECT</span> schema_name <span class="token keyword">FROM</span> information_schema<span class="token punctuation">.</span>schemata<span class="token punctuation">;</span>
</span><span class="code-line line-number" line="4">
</span><span class="code-line line-number" line="5"><span class="token keyword">SELECT</span> nspname <span class="token keyword">FROM</span> pg_catalog<span class="token punctuation">.</span>pg_namespace<span class="token punctuation">;</span>
</span></code></pre>
<p><a href="http://www.postgresql.org/docs/current/static/sql-createschema.html">Create schema</a></p>
<pre class="language-sql"><code class="language-sql code-highlight"><span class="code-line line-number" line="1"><span class="token keyword">CREATE</span> <span class="token keyword">SCHEMA</span> <span class="token keyword">IF</span> <span class="token operator">NOT</span> <span class="token keyword">EXISTS</span> <span class="token operator">&#x3C;</span>schema_name<span class="token operator">></span><span class="token punctuation">;</span>
</span></code></pre>
<p><a href="http://www.postgresql.org/docs/current/static/sql-dropschema.html">Drop schema</a></p>
<pre class="language-sql"><code class="language-sql code-highlight"><span class="code-line line-number" line="1"><span class="token keyword">DROP</span> <span class="token keyword">SCHEMA</span> <span class="token keyword">IF</span> <span class="token keyword">EXISTS</span> <span class="token operator">&#x3C;</span>schema_name<span class="token operator">></span> <span class="token keyword">CASCADE</span><span class="token punctuation">;</span>
</span></code></pre>
</div></div></div></div></div><div class="wrap"><div class="wrap-header h2wrap"><h2>PostgreSQL Commands {.cols-3}</h2><div class="wrap-body">
</div></div><div class="h2wrap-body"><div class="wrap"><div class="wrap-header h3wrap"><h3>Tables</h3><div class="wrap-body">
<table>
  <thead>
    <tr>
      <th>-</th>
      <th>-</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>\d &#x3C;table></code></td>
      <td>Describe table</td>
    </tr>
    <tr>
      <td><code>\d+ &#x3C;table></code></td>
      <td>Describe table with details</td>
    </tr>
    <tr>
      <td><code>\dt</code></td>
      <td>List tables from current schema</td>
    </tr>
    <tr>
      <td><code>\dt *.*</code></td>
      <td>List tables from all schemas</td>
    </tr>
    <tr>
      <td><code>\dt &#x3C;schema>.*</code></td>
      <td>List tables for a schema</td>
    </tr>
    <tr>
      <td><code>\dp</code></td>
      <td>List table access privileges</td>
    </tr>
    <tr>
      <td><code>\det[+]</code></td>
      <td>List foreign tables</td>
    </tr>
  </tbody>
</table>
</div></div></div><div class="wrap"><div class="wrap-header h3wrap"><h3>Query buffer</h3><div class="wrap-body">
<table>
  <thead>
    <tr>
      <th>-</th>
      <th>-</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>\e [FILE]</code></td>
      <td>Edit the query buffer (or file)</td>
    </tr>
    <tr>
      <td><code>\ef [FUNC]</code></td>
      <td>Edit function definition</td>
    </tr>
    <tr>
      <td><code>\p</code></td>
      <td>Show the contents</td>
    </tr>
    <tr>
      <td><code>\r</code></td>
      <td>Reset (clear) the query buffer</td>
    </tr>
    <tr>
      <td><code>\s [FILE]</code></td>
      <td>Display history or save it to file</td>
    </tr>
    <tr>
      <td><code>\w FILE</code></td>
      <td>Write query buffer to file</td>
    </tr>
  </tbody>
</table>
</div></div></div><div class="wrap"><div class="wrap-header h3wrap"><h3>Informational {.row-span-4}</h3><div class="wrap-body">
<table>
  <thead>
    <tr>
      <th>-</th>
      <th>-</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>\l[+]</code></td>
      <td>List all databases</td>
    </tr>
    <tr>
      <td><code>\dn[S+]</code></td>
      <td>List schemas</td>
    </tr>
    <tr>
      <td><code>\di[S+]</code></td>
      <td>List indexes</td>
    </tr>
    <tr>
      <td><code>\du[+]</code></td>
      <td>List roles</td>
    </tr>
    <tr>
      <td><code>\ds[S+]</code></td>
      <td>List sequences</td>
    </tr>
    <tr>
      <td><code>\df[antw][S+]</code></td>
      <td>List functions</td>
    </tr>
    <tr>
      <td><code>\deu[+]</code></td>
      <td>List user mappings</td>
    </tr>
    <tr>
      <td><code>\dv[S+]</code></td>
      <td>List views</td>
    </tr>
    <tr>
      <td><code>\dl</code></td>
      <td>List large objects</td>
    </tr>
    <tr>
      <td><code>\dT[S+]</code></td>
      <td>List data types</td>
    </tr>
    <tr>
      <td><code>\da[S]</code></td>
      <td>List aggregates</td>
    </tr>
    <tr>
      <td><code>\db[+]</code></td>
      <td>List tablespaces</td>
    </tr>
    <tr>
      <td><code>\dc[S+]</code></td>
      <td>List conversions</td>
    </tr>
    <tr>
      <td><code>\dC[+]</code></td>
      <td>List casts</td>
    </tr>
    <tr>
      <td><code>\ddp</code></td>
      <td>List default privileges</td>
    </tr>
    <tr>
      <td><code>\dd[S]</code></td>
      <td>Show object descriptions</td>
    </tr>
    <tr>
      <td><code>\dD[S+]</code></td>
      <td>List domains</td>
    </tr>
    <tr>
      <td><code>\des[+]</code></td>
      <td>List foreign servers</td>
    </tr>
    <tr>
      <td><code>\dew[+]</code></td>
      <td>List foreign-data wrappers</td>
    </tr>
    <tr>
      <td><code>\dF[+]</code></td>
      <td>List text search configurations</td>
    </tr>
    <tr>
      <td><code>\dFd[+]</code></td>
      <td>List text search dictionaries</td>
    </tr>
    <tr>
      <td><code>\dFp[+]</code></td>
      <td>List text search parsers</td>
    </tr>
    <tr>
      <td><code>\dFt[+]</code></td>
      <td>List text search templates</td>
    </tr>
    <tr>
      <td><code>\dL[S+]</code></td>
      <td>List procedural languages</td>
    </tr>
    <tr>
      <td><code>\do[S]</code></td>
      <td>List operators</td>
    </tr>
    <tr>
      <td><code>\dO[S+]</code></td>
      <td>List collations</td>
    </tr>
    <tr>
      <td><code>\drds</code></td>
      <td>List per-database role settings</td>
    </tr>
    <tr>
      <td><code>\dx[+]</code></td>
      <td>List extensions</td>
    </tr>
  </tbody>
</table>
<p><code>S</code>: show system objects, <code>+</code>: additional detail</p>
</div></div></div><div class="wrap"><div class="wrap-header h3wrap"><h3>Connection</h3><div class="wrap-body">
<table>
  <thead>
    <tr>
      <th>-</th>
      <th>-</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>\c [DBNAME]</code></td>
      <td>Connect to new database</td>
    </tr>
    <tr>
      <td><code>\encoding [ENCODING]</code></td>
      <td>Show or set client encoding</td>
    </tr>
    <tr>
      <td><code>\password [USER]</code></td>
      <td>Change the password</td>
    </tr>
    <tr>
      <td><code>\conninfo</code></td>
      <td>Display information</td>
    </tr>
  </tbody>
</table>
</div></div></div><div class="wrap"><div class="wrap-header h3wrap"><h3>Formatting</h3><div class="wrap-body">
<table>
  <thead>
    <tr>
      <th>-</th>
      <th>-</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>\a</code></td>
      <td>Toggle between unaligned and aligned</td>
    </tr>
    <tr>
      <td><code>\C [STRING]</code></td>
      <td>Set table title, or unset if none</td>
    </tr>
    <tr>
      <td><code>\f [STRING]</code></td>
      <td>Show or set field separator for unaligned</td>
    </tr>
    <tr>
      <td><code>\H</code></td>
      <td>Toggle HTML output mode</td>
    </tr>
    <tr>
      <td>`\t [on</td>
      <td>off]`</td>
    </tr>
    <tr>
      <td><code>\T [STRING]</code></td>
      <td>Set or unset HTML &#x3C;table> tag attributes</td>
    </tr>
    <tr>
      <td>`\x [on</td>
      <td>off]`</td>
    </tr>
  </tbody>
</table>
</div></div></div><div class="wrap"><div class="wrap-header h3wrap"><h3>Input/Output</h3><div class="wrap-body">
<table>
  <thead>
    <tr>
      <th>-</th>
      <th>-</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>\copy ...</code></td>
      <td>Import/export table<br><em>See also:</em> <a href="#import-export-csv">copy</a></td>
    </tr>
    <tr>
      <td><code>\echo [STRING]</code></td>
      <td>Print string</td>
    </tr>
    <tr>
      <td><code>\i FILE</code></td>
      <td>Execute file</td>
    </tr>
    <tr>
      <td><code>\o [FILE]</code></td>
      <td>Export all results to file</td>
    </tr>
    <tr>
      <td><code>\qecho [STRING]</code></td>
      <td>String to output stream</td>
    </tr>
  </tbody>
</table>
</div></div></div><div class="wrap"><div class="wrap-header h3wrap"><h3>Variables</h3><div class="wrap-body">
<table>
  <thead>
    <tr>
      <th>-</th>
      <th>-</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>\prompt [TEXT] NAME</code></td>
      <td>Set variable</td>
    </tr>
    <tr>
      <td><code>\set [NAME [VALUE]]</code></td>
      <td>Set variable <em>(or list all if no parameters)</em></td>
    </tr>
    <tr>
      <td><code>\unset NAME</code></td>
      <td>Delete variable</td>
    </tr>
  </tbody>
</table>
</div></div></div><div class="wrap"><div class="wrap-header h3wrap"><h3>Misc</h3><div class="wrap-body">
<table>
  <thead>
    <tr>
      <th>-</th>
      <th>-</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>\cd [DIR]</code></td>
      <td>Change the directory</td>
    </tr>
    <tr>
      <td>`\timing [on</td>
      <td>off]`</td>
    </tr>
    <tr>
      <td><code>\! [COMMAND]</code></td>
      <td>Execute in shell</td>
    </tr>
    <tr>
      <td><code>\! ls -l</code></td>
      <td>List all in shell</td>
    </tr>
  </tbody>
</table>
</div></div></div><div class="wrap"><div class="wrap-header h3wrap"><h3>Large Objects</h3><div class="wrap-body">
<ul>
  <li><code>\lo_export LOBOID FILE</code></li>
  <li><code>\lo_import FILE [COMMENT]</code></li>
  <li><code>\lo_list</code></li>
  <li><code>\lo_unlink LOBOID</code></li>
</ul>
</div></div></div></div></div><div class="wrap"><div class="wrap-header h2wrap"><h2>Miscellaneous {.cols-3}</h2><div class="wrap-body">
</div></div><div class="h2wrap-body"><div class="wrap"><div class="wrap-header h3wrap"><h3>Backup</h3><div class="wrap-body">
<p>Use pg_dumpall to backup all databases</p>
<pre class="language-shell"><code class="language-shell code-highlight"><span class="code-line line-number" line="1">$ pg_dumpall <span class="token parameter variable">-U</span> postgres <span class="token operator">></span> all.sql
</span></code></pre>
<p>Use pg_dump to backup a database</p>
<pre class="language-shell"><code class="language-shell code-highlight"><span class="code-line line-number" line="1">$ pg_dump <span class="token parameter variable">-d</span> mydb <span class="token parameter variable">-f</span> mydb_backup.sql
</span></code></pre>
<ul>
  <li>  <code>-a</code>   Dump only the data, not the schema</li>
  <li>  <code>-s</code>   Dump only the schema, no data</li>
  <li>  <code>-c</code>   Drop database before recreating</li>
  <li>  <code>-C</code>   Create database before restoring</li>
  <li>  <code>-t</code>   Dump the named table(s) only</li>
  <li>
      <code>-F</code>   Format (<code>c</code>: custom, <code>d</code>: directory, <code>t</code>: tar)
    {.style-none}
  </li>
</ul>
<p>Use <code>pg_dump -?</code> to get the full list of options</p>
</div></div></div><div class="wrap"><div class="wrap-header h3wrap"><h3>Restore</h3><div class="wrap-body">
<p>Restore a database with psql</p>
<pre class="language-shell"><code class="language-shell code-highlight"><span class="code-line line-number" line="1">$ psql <span class="token parameter variable">-U</span> user mydb <span class="token operator">&#x3C;</span> mydb_backup.sql
</span></code></pre>
<p>Restore a database with pg_restore</p>
<pre class="language-shell"><code class="language-shell code-highlight"><span class="code-line line-number" line="1">$ pg_restore <span class="token parameter variable">-d</span> mydb mydb_backup.sql <span class="token parameter variable">-c</span>
</span></code></pre>
<ul>
  <li>  <code>-U</code>   Specify a database user</li>
  <li>  <code>-c</code>   Drop database before recreating</li>
  <li>  <code>-C</code>   Create database before restoring</li>
  <li>  <code>-e</code>   Exit if an error has encountered</li>
  <li>
      <code>-F</code>   Format (<code>c</code>: custom, <code>d</code>: directory, <code>t</code>: tar, <code>p</code>: plain text sql(default))
    {.style-none}
  </li>
</ul>
<p>Use <code>pg_restore -?</code> to get the full list of options</p>
</div></div></div><div class="wrap"><div class="wrap-header h3wrap"><h3>Remote access</h3><div class="wrap-body">
<p>Get location of postgresql.conf</p>
<pre class="language-shell"><code class="language-shell code-highlight"><span class="code-line line-number" line="1">$ psql <span class="token parameter variable">-U</span> postgres <span class="token parameter variable">-c</span> <span class="token string">'SHOW config_file'</span>
</span></code></pre>
<p>Append to postgresql.conf</p>
<pre class="language-shell"><code class="language-shell code-highlight"><span class="code-line line-number" line="1">listen_addresses <span class="token operator">=</span> <span class="token string">'*'</span>
</span></code></pre>
<p>Append to pg_hba.conf (Same location as postgresql.conf)</p>
<pre class="language-shell"><code class="language-shell code-highlight"><span class="code-line line-number" line="1"><span class="token function">host</span>  all  all  <span class="token number">0.0</span>.0.0/0  md5
</span><span class="code-line line-number" line="2"><span class="token function">host</span>  all  all  ::/0       md5
</span></code></pre>
<p>Restart PostgreSQL server</p>
<pre class="language-shell"><code class="language-shell code-highlight"><span class="code-line line-number" line="1">$ <span class="token function">sudo</span> systemctl restart postgresql
</span></code></pre>
</div></div></div><div class="wrap"><div class="wrap-header h3wrap"><h3>Import/Export CSV</h3><div class="wrap-body">
<p>Export table into CSV file</p>
<pre class="language-shell"><code class="language-shell code-highlight"><span class="code-line line-number" line="1"><span class="token punctuation">\</span>copy table TO <span class="token string">'&#x3C;path>'</span> CSV
</span><span class="code-line line-number" line="2"><span class="token punctuation">\</span>copy table<span class="token punctuation">(</span>col1,col1<span class="token punctuation">)</span> TO <span class="token string">'&#x3C;path>'</span> CSV
</span><span class="code-line line-number" line="3"><span class="token punctuation">\</span>copy <span class="token punctuation">(</span>SELECT<span class="token punctuation">..</span>.<span class="token punctuation">)</span> TO <span class="token string">'&#x3C;path>'</span> CSV
</span></code></pre>
<p>Import CSV file into table</p>
<pre class="language-shell"><code class="language-shell code-highlight"><span class="code-line line-number" line="1"><span class="token punctuation">\</span>copy table FROM <span class="token string">'&#x3C;path>'</span> CSV
</span><span class="code-line line-number" line="2"><span class="token punctuation">\</span>copy table<span class="token punctuation">(</span>col1,col1<span class="token punctuation">)</span> FROM <span class="token string">'&#x3C;path>'</span> CSV
</span></code></pre>
<p>See also: <a href="https://www.postgresql.org/docs/current/sql-copy.html">Copy</a></p>
</div></div></div></div></div><div class="wrap"><div class="wrap-header h2wrap"><h2>Also see</h2><div class="wrap-body">
<ul>
  <li><a href="https://gist.github.com/apolloclark/ea5466d5929e63043dcf#posgres-cheatsheet">Posgres-cheatsheet</a> <em>(gist.github.com)</em></li>
</ul>

</div></div></div><footer class="footer-wrap"><footer class="max-container">© 2022 Kenny Wang, All rights reserved.</footer></footer></body>
</html>
